
spring.application.name=fraudengine

# --- Server ---
server.port=${SERVER_PORT:8080}
server.address=0.0.0.0

# --- Database (NO secrets here; env overridable) ---
spring.datasource.url=${DB_URL:jdbc:postgresql://localhost:5432/frauddb}
spring.datasource.username=${DB_USERNAME:frauduser}
spring.datasource.password=${DB_PASSWORD:######}

spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.jdbc.time_zone=UTC

# --- ISO8583 ---
iso8583.listener.port=${ISO8583_PORT:8037}

# --- Fraud rules (make ALL overridable via env vars) ---
# High Amount
fraud.rule.high-amount.enabled=${FRAUD_HIGH_AMOUNT_ENABLED:true}
fraud.rule.high-amount.threshold=${FRAUD_HIGH_AMOUNT_THRESHOLD:1000}

# Location rule
fraud.rules.location.enabled=${FRAUD_RULES_LOCATION_ENABLED:true}
fraud.rules.location.risky-values=${FRAUD_RULES_LOCATION_RISKY_VALUES:UNKNOWN,RISKY-COUNTRY,NORTH-KOREA,IRAN}
fraud.rules.location.whitelist-values=${FRAUD_RULES_LOCATION_WHITELIST_VALUES:SOUTH-AFRICA,NAMIBIA,BOTSWANA}

# Velocity rule
fraud.rules.velocity.windowMinutes=${FRAUD_RULES_VELOCITY_WINDOW_MINUTES:15}
fraud.rules.velocity.maxCount=${FRAUD_RULES_VELOCITY_MAX_COUNT:5}
